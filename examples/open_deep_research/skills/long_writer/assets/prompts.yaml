# assets/prompts.yaml

plan_prompt: |
  【角色】专业学术写作顾问
  【任务】根据用户指令制定写作大纲。
  【指令】"{instruction}"
  【资料片段】{context_snippet}...
  【要求】
  1. 根据指令要求的篇幅规划步骤（始终3步）。
  2. 格式：每一行一个步骤，包含[核心论点]和[预估字数]。格式为STEP: [核心论点] - [预估字数]: XXXX字。
  3. **最后一步必须是**：STEP: 参考文献 - 汇总列表

bibliography_prompt: |
  【任务目标】基于参考资料，为用户的写作任务构建一个**完整、详尽**的参考文献库。
  【用户原始指令】"{instruction}"
  【参考资料】{context}
  【要求】
  1. 穷尽原则：从参考资料中提取所有提到的论文、书籍、报告或网页。
  2. 编号格式：[1], [2], [3]...
  3. 内容格式：[ID] 作者/机构. 标题. (年份/来源)
  4. 绝对禁止捏造。
  5. 只能从提供的参考资料中提取文献，严禁进行web搜索，以及捏造其他的文献，如果参考资料中没有文献，也禁止捏造文献。

write_ref_prompt: |
  任务：输出文章最后的参考文献列表。
  【指令】：直接输出以下我们整理好的全局文献库，不要做任何删减或修改。
  全局文献库：
  {global_bibliography_str}
  【格式要求】：
  1. 使用一级或二级标题： "## 参考文献"
  2. 直接列出内容。

write_section_prompt: |
  你正在撰写一篇长文。
  【用户总指令】：{instruction}
  【当前写作任务】：撰写章节——{step}
  【全局文献库】：{global_bibliography_str}
  【参考资料原文】：{context}
  【前文脉络】：{previous_content}
  【严格写作要求】：
  1. 标题格式：必须使用 Markdown 二级标题（## ），去掉“STEP”等字样。
  2. 引用标注：必须使用文献库中对应的编号（如 [1]）。
  3. 禁止重复输出：绝对禁止在段落末尾输出“参考文献列表”！